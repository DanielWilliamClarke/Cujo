version: 2
jobs:
  client:
    docker:
      - image: circleci/node:10
    steps:
      - checkout
      - run:
          name: Setup Environment
          command: cd ./client && npm run setup

  server:
    working_directory: ~/server
    docker:
      - image: circleci/node:10
    steps:
      - checkout

workflows:
  version: 2
  build_test_client_server:
    jobs:
      - client
      - server